package com.biz.bow.sevice;

public class NmlFrameServiveImpl implements FrameService {

	private static final int NOMAL_FRAME = 2;
	private static final int TOTAL_PIN = 10;

	private int turn;
	private int fstShot;
	private int sndShot;

	public NmlFrameServiveImpl() {
		// 생성자 초기화
		fstShot = 0;
		sndShot = 0;
	}

	// 플레이어 차례
	@Override
	public boolean playerTurn() {
		return turn > 0;
	}

	@Override
	public void palyBow(int pinCnt) {
		setScore(pinCnt);
		setTurn();

	}

	public void setScore(int pinCnt) {
		// 턴
		if (!playerTurn()) {
			// 두번째 투구
			sndShot = pinCnt;
			return;
		}
		// 첫투구는 핀 넘긴 카운트와 같음
		fstShot = pinCnt;
	}
	
	// 턴
	private void setTurn() {
		// 핀 카운트가 10이 되면 투구를 없앰
		if (fstShot == TOTAL_PIN) {
			turn -= 2;
		}
		// 그렇지 않으면 턴 한 회씩 소모
		turn--;
	}

}
