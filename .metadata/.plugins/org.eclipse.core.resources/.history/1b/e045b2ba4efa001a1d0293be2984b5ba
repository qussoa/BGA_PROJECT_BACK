package com.biz.bow.sevice;

public class FrameServiceImpl {

	private static final int TOTAL_FRAME = 9;

	private static final int FINAL_FRAME = 3;

	private String state;

	public FrameServiceImpl(int frameNum) {

		state = "NOMAL";
		setFrameState(frameNum);
		;
	}

	// frame 투구 설정
	private void setFrameState(int frameNum) {
		// fameNum 총 frame 수가 되면 마지막 턴에서는 3회를 줌
		if (frameNum == TOTAL_FRAME) {
			turn = FINAL_FRAME;
			return;
		}
		// 마지막이 아닌 다른 회차일 경우 투구 2회
		turn = NOMAL_FRAME;
	}

	// 점수계산
	public void calScore(int pinCnt) {

		setShot(pinCnt);
		setTurn(pinCnt);

	}

	public void setShot(int pinCnt) {
		// 턴
		if (playerTurn()) {
			// 첫투구는 핀 넘긴 카운트와 같음
			fstShot = pinCnt;
			return;
		}
		// 나머지 턴
		sndShot = pinCnt;
	}

	// 턴
	private void setTurn(int pinCnt) {
		// 핀 카운트가 10이 되면 투구를 없앰
		if (pinCnt == TOTAL_PIN) {
			turn -= 2;
		}
		// 그렇지 않으면 턴 한 회씩 소모
		turn--;
	}

	// 플레이어 차례
	public boolean playerTurn() {
		return turn > 0;
	}
}
