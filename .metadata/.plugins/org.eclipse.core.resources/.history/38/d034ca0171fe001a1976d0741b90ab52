package com.biz.bow.sevice;

import java.util.Arrays;

public class ResultScoreService {
	
	// 결과 점수
	
	// 첫번째 턴 값 초기화
	private static final int FIRST_TURN_GET_SCORE = 0;
	
	// 총점수
	private int totalScore;
	
	// 총 점수 초기화
	public ResultScoreService() {
		totalScore = 0;
	}
	
	// 점수 내보낼때
	public int getTotalScore() {
		return totalScore;
	}
	
	// 배열에 담긴 점수 더함
	public void calTotalScore(int[] shotScores) {
		totalScore += Arrays.stream(shotScores).sum();
	}
	
	// 현재 프레임에서 스트라이크나 스페어가 나왔을시에 다음 프레임에서 점수를 한번더 더함
	public void calScoreWithNextFrame(String state, FrameService nextFrame) {
		if(state.equals("STRIKE")) {
			int nextFrameScore = nextFrame.getTotalScore();
			int[] nextFirstSocre = nextFrame.getScore();
			totalScore += nextFrameScore;
			totalScore += nextFirstSocre[FIRST_TURN_GET_SCORE];
			return;
		}
		
		if(state.equals("SPAIRE")) {
			int[] nextFrameScore = nextFrame.getScore();
			totalScore += nextFrameScore[FIRST_TURN_GET_SCORE];
			return;
		}
	}
	
}
